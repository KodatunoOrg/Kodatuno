<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"> 
<HTML> 
<HEAD LANG="ja"> 
	<TITLE>Kodatuno User's Guide</TITLE> 
	<meta HTTP-EQUIV="Content-type" CONTENT="text/html; charset=euc-jp"> 
</HEAD> 
<BODY bgcolor="#ffffff"> 
<table cellspacing="0" cellpadding="0" border="0" width="100%">   
	<tr valign="top" height="32">   
	</tr>   
	<tr valign="top">        
		<td width="256" valign="bottom" align="left">          
			<IMG SRC="pixmaps/logo.jpg" width="300" height="98" alt="Kodatuno Logo" ALIGN="top">
		</td>        
		<td valign="bottom" align="center">          
			<center> 	   
		<b><big>Kodatuno User's Guide</big>
		</b>
		<center>        
		</td>       
		<td width="20%" valign="bottom" align="right">     
			<A HREF="./2-6-6.html">Prev</A>     
			<A HREF="./index.html">Index</A>
			<A HREF="./2-6-8.html">Next</A><br>
		</td>   
	</tr> 
</table> 
<blockquote> 

<BR><HR><H2>(Ex. 7) NURBS曲面同士の交線を算出する</H2>
　(Ex. 6)ではNURBS曲面と平面との交線を算出しました．ここでは，NURBS曲面同士の交線を算出してみたいと思います．<BR>
　"SampleFunc2.cpp"のSmpIntersectSurfs()を実行します．<BR><BR><BR>

<H4>＜実行手順＞</H4>
<OL>
<LI>Kodatunoアプリケーションを起動し, 適当なIGESデータを2つ読み込みます．
<LI>表示された2つのBodyから干渉している2つの面を順番にピックします．ピックする面の数は2個にしてください．
<LI>"User Status"からMode2を選択し，Prop1に交点群の点間隔(0.1〜2程度)を入力します．
<LI>"Sample Func 2"ボタンを押します．
<LI>2つの面の交線が生成されたことを確認してください．
</OL>

<P><CENTER><IMG SRC="pixmaps/UserFunc_SmpIntersectSurfs.jpg"></CENTER></P>

<BR><BR>
<H4>＜ソース解説＞</H4>
　今回はMode2を選択し，"Sample Func2"ボタンを押しました．これによってSmpIntersectSurfs()が実行されます．<BR>
　では，SmpIntersectSurfs()を見てみましょう．

<P><CENTER><IMG SRC="pixmaps/UserFunc_SmpIntersectSurfs2.jpg"></CENTER></P>

　序盤は概ね問題ないと思います．63，64行目は得られた交点群を格納するための箱ですが，2つの曲面上で得られますので，2つ用意する必要があります．
また，71〜77行目ですが，2つのNURBS曲面をピックしていますので，順番に実体を取り出しています．<BR>
　NURBS曲面同士の交線計算は85行目のNURBS_Func::CalcIntersecPtsNurbsSSearch()によって行われ，引数として指定したRtとStにそれぞれの面上の交点群が格納されます．
注意点として，(Ex. 6)でも述べたとおり，交点群はパラメータ(u, v)として得られますので，3次元座標値に変換するNURBS_Func::CalcNurbsSCoord()が別途必要です．

<BR><BR>
　以上で(Ex. 7)の解説は終わりです．ここまできてしまえば，ほとんど説明することがないですね．<BR>
　つぎが最後の例題になります．最後は平均曲率法線ベクトルと呼ばれる聞きなれない曲面情報の抽出を例に，Kodatunoの応用の可能性を広げます．



</blockquote> <HR> Document Release 2.0 for Kodatuno R2.0, Nov. 2011<P> <hr> <center>
<A HREF="./2-6-6.html">Prev</A>
<A HREF="./index.html">index</A>
<A HREF="./2-6-8.html">Next</A><br>
</center> <hr> <table cellpadding="0" cellspacing="0" border="0" width="100%">    
<tr>      
	<td align="left">        
		<small>Copyright(C) Kodatuno Development Team, 2011</small>      
	</td>      
	<td align="right">        
		<small><i>Last modified: Nov. 11, 2011</i></small>      
	</td>   
</tr> </table>  <!-- end of body --> </body>  
</html>  

